<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Mon Jul 01 09:15:38 CEST 2013 -->
<title>DownloadTask</title>
<meta name="date" content="2013-07-01">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DownloadTask";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DownloadTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../jbittorrent/DownloadManagerListener.html" title="interface in jbittorrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?jbittorrent/DownloadTask.html" target="_top">Frames</a></li>
<li><a href="DownloadTask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">jbittorrent</div>
<h2 title="Class DownloadTask" class="title">Class DownloadTask</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>jbittorrent.DownloadTask</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable, java.util.EventListener, <a href="../jbittorrent/IncomingListener.html" title="interface in jbittorrent">IncomingListener</a>, <a href="../jbittorrent/OutgoingListener.html" title="interface in jbittorrent">OutgoingListener</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">DownloadTask</span>
extends java.lang.Thread
implements <a href="../jbittorrent/IncomingListener.html" title="interface in jbittorrent">IncomingListener</a>, <a href="../jbittorrent/OutgoingListener.html" title="interface in jbittorrent">OutgoingListener</a></pre>
<div class="block">Class representing a task that downloads pieces from a remote peer</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>0.1</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Baptiste Dubuis, Sandra Ferrer Celma</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#BAD_HANDSHAKE">BAD_HANDSHAKE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#bitfield">bitfield</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#CONNECTION_ALREADY_EXIST">CONNECTION_ALREADY_EXIST</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#CONNECTION_REFUSED">CONNECTION_REFUSED</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#MALFORMED_MESSAGE">MALFORMED_MESSAGE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../jbittorrent/MessageReceiver.html" title="class in jbittorrent">MessageReceiver</a></code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#mr">mr</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../jbittorrent/MessageSender.html" title="class in jbittorrent">MessageSender</a></code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#ms">ms</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a></code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#peer">peer</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#TASK_COMPLETED">TASK_COMPLETED</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#TIMEOUT">TIMEOUT</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#UNKNOWN_HOST">UNKNOWN_HOST</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../jbittorrent/DownloadTask.html#DownloadTask(jbittorrent.Peer, byte[], byte[])">DownloadTask</a></strong>(<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;peer,
            byte[]&nbsp;fileID,
            byte[]&nbsp;myID)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;&nbsp;</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../jbittorrent/DownloadTask.html#DownloadTask(jbittorrent.Peer, byte[], byte[], boolean, byte[])">DownloadTask</a></strong>(<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;peer,
            byte[]&nbsp;fileID,
            byte[]&nbsp;myID,
            boolean&nbsp;init,
            byte[]&nbsp;bitfield)</code>
<div class="block">Start the downloading process from the remote peer in parameter</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../jbittorrent/DownloadTask.html#DownloadTask(jbittorrent.Peer, byte[], byte[], boolean, byte[], java.net.Socket)">DownloadTask</a></strong>(<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;p,
            byte[]&nbsp;fileID,
            byte[]&nbsp;myID,
            boolean&nbsp;init,
            byte[]&nbsp;bitfield,
            java.net.Socket&nbsp;s)</code>
<div class="block">Start the downloading process from the remote peer in parameter</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#addDTListener(jbittorrent.DTListener)">addDTListener</a></strong>(<a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#cancelPieceEndGameStrategy(int)">cancelPieceEndGameStrategy</a></strong>(int&nbsp;indexEndGamePiece)</code>
<div class="block">Sends the messages of cancellation of blocks that have been solicited.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#checkDownloaded()">checkDownloaded</a></strong>()</code>
<div class="block">Returns the total amount of bytes downloaded by this task so far</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#connectionClosed()">connectionClosed</a></strong>()</code>
<div class="block">Fired when the connection to the remote peer has been closed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#end()">end</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#endTask()">endTask</a></strong>()</code>
<div class="block">Stops this thread by setting the 'run' variable to false and closing
 the communication thread (Message receiver and sender).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../jbittorrent/DownloadManager.html" title="class in jbittorrent">DownloadManager</a></code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#getDownloadManager()">getDownloadManager</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a>[]</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#getDTListeners()">getDTListeners</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#getIdTask()">getIdTask</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#getIndexDowloadEndGamePiece()">getIndexDowloadEndGamePiece</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#getIndexDownloadPiece()">getIndexDownloadPiece</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a></code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#getPeer()">getPeer</a></strong>()</code>
<div class="block">Returns this peer object</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#getPortSocket()">getPortSocket</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#initConnection()">initConnection</a></strong>()</code>
<div class="block">Inits the connection to the remote peer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#isConected()">isConected</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#isDownloading()">isDownloading</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#isDownloadPiece()">isDownloadPiece</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#isRunning()">isRunning</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#isStartedEndGame()">isStartedEndGame</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#keepAliveSent()">keepAliveSent</a></strong>()</code>
<div class="block">Fired when a keep-alive message has been sent by the MessageSender.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#messageReceived(jbittorrent.Message)">messageReceived</a></strong>(<a href="../jbittorrent/Message.html" title="class in jbittorrent">Message</a>&nbsp;m)</code>
<div class="block">According to the message type, change the state of the task (peer) and
 take the necessary actions</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#removeDTListener(jbittorrent.DTListener)">removeDTListener</a></strong>(<a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#requestPiece(jbittorrent.Piece)">requestPiece</a></strong>(<a href="../jbittorrent/Piece.html" title="class in jbittorrent">Piece</a>&nbsp;p)</code>
<div class="block">Request a peer to the peer</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#run()">run</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#setConected(boolean)">setConected</a></strong>(boolean&nbsp;isConected)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#setDownloadManager(jbittorrent.DownloadManager)">setDownloadManager</a></strong>(<a href="../jbittorrent/DownloadManager.html" title="class in jbittorrent">DownloadManager</a>&nbsp;downloadManager)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#setIdTask(java.lang.String)">setIdTask</a></strong>(java.lang.String&nbsp;idTask)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#setPortSocket(int)">setPortSocket</a></strong>(int&nbsp;port)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../jbittorrent/DownloadTask.html#setStartedEndGame(jbittorrent.Piece)">setStartedEndGame</a></strong>(<a href="../jbittorrent/Piece.html" title="class in jbittorrent">Piece</a>&nbsp;downloadEndGamePiece)</code>
<div class="block">Establishes a new piece for the End Game mode.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, toString, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="TASK_COMPLETED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TASK_COMPLETED</h4>
<pre>public static final&nbsp;int TASK_COMPLETED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#jbittorrent.DownloadTask.TASK_COMPLETED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="UNKNOWN_HOST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UNKNOWN_HOST</h4>
<pre>public static final&nbsp;int UNKNOWN_HOST</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#jbittorrent.DownloadTask.UNKNOWN_HOST">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CONNECTION_REFUSED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_REFUSED</h4>
<pre>public static final&nbsp;int CONNECTION_REFUSED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#jbittorrent.DownloadTask.CONNECTION_REFUSED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="BAD_HANDSHAKE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BAD_HANDSHAKE</h4>
<pre>public static final&nbsp;int BAD_HANDSHAKE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#jbittorrent.DownloadTask.BAD_HANDSHAKE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MALFORMED_MESSAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MALFORMED_MESSAGE</h4>
<pre>public static final&nbsp;int MALFORMED_MESSAGE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#jbittorrent.DownloadTask.MALFORMED_MESSAGE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TIMEOUT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TIMEOUT</h4>
<pre>public static final&nbsp;int TIMEOUT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#jbittorrent.DownloadTask.TIMEOUT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CONNECTION_ALREADY_EXIST">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_ALREADY_EXIST</h4>
<pre>public static final&nbsp;int CONNECTION_ALREADY_EXIST</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#jbittorrent.DownloadTask.CONNECTION_ALREADY_EXIST">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="peer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peer</h4>
<pre>public&nbsp;<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a> peer</pre>
</li>
</ul>
<a name="bitfield">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bitfield</h4>
<pre>public&nbsp;byte[] bitfield</pre>
</li>
</ul>
<a name="ms">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ms</h4>
<pre>public&nbsp;<a href="../jbittorrent/MessageSender.html" title="class in jbittorrent">MessageSender</a> ms</pre>
</li>
</ul>
<a name="mr">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mr</h4>
<pre>public&nbsp;<a href="../jbittorrent/MessageReceiver.html" title="class in jbittorrent">MessageReceiver</a> mr</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DownloadTask(jbittorrent.Peer, byte[], byte[], boolean, byte[], java.net.Socket)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DownloadTask</h4>
<pre>public&nbsp;DownloadTask(<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;p,
            byte[]&nbsp;fileID,
            byte[]&nbsp;myID,
            boolean&nbsp;init,
            byte[]&nbsp;bitfield,
            java.net.Socket&nbsp;s)</pre>
<div class="block">Start the downloading process from the remote peer in parameter</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>p</code> - <a href="../jbittorrent/Peer.html" title="class in jbittorrent"><code>Peer</code></a> The peer to connect to</dd><dd><code>fileID</code> - byte[] The file to be downloaded</dd><dd><code>myID</code> - byte[] The id of the current client</dd><dd><code>init</code> - boolean True if this client initiate the connection, false otherwise</dd><dd><code>s</code> - <code>Socket</code> Only set if this client receive a connection request from the remote peer</dd><dd><code>bitfield</code> - byte[] The piece currently ownend by this client</dd></dl>
</li>
</ul>
<a name="DownloadTask(jbittorrent.Peer, byte[], byte[], boolean, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DownloadTask</h4>
<pre>public&nbsp;DownloadTask(<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;peer,
            byte[]&nbsp;fileID,
            byte[]&nbsp;myID,
            boolean&nbsp;init,
            byte[]&nbsp;bitfield)</pre>
<div class="block">Start the downloading process from the remote peer in parameter</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer to connect to</dd><dd><code>fileID</code> - The file to be downloaded</dd><dd><code>myID</code> - The id of the current client</dd><dd><code>init</code> - True if this client initiate the connection, false otherwise</dd><dd><code>bitfield</code> - The pieces currently owned by this client</dd></dl>
</li>
</ul>
<a name="DownloadTask(jbittorrent.Peer, byte[], byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DownloadTask</h4>
<pre>public&nbsp;DownloadTask(<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;peer,
            byte[]&nbsp;fileID,
            byte[]&nbsp;myID)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i></i></div>
<div class="block">Start the downloading process from the remote peer in parameter</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peer</code> - The peer to connect to</dd><dd><code>fileID</code> - The file to be downloaded</dd><dd><code>myID</code> - The id of the current client</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initConnection</h4>
<pre>public&nbsp;void&nbsp;initConnection()
                    throws java.net.UnknownHostException,
                           java.io.IOException</pre>
<div class="block">Inits the connection to the remote peer. Also init the message sender and receiver.
 If necessary, starts the handshake with the peer</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.net.UnknownHostException</code> - If the remote peer is unknown</dd>
<dd><code>java.io.IOException</code> - If the connection to the remote peer fails (reset, ...)</dd></dl>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code>run</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="getPeer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeer</h4>
<pre>public&nbsp;<a href="../jbittorrent/Peer.html" title="class in jbittorrent">Peer</a>&nbsp;getPeer()</pre>
<div class="block">Returns this peer object</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Peer</dd></dl>
</li>
</ul>
<a name="requestPiece(jbittorrent.Piece)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestPiece</h4>
<pre>public&nbsp;void&nbsp;requestPiece(<a href="../jbittorrent/Piece.html" title="class in jbittorrent">Piece</a>&nbsp;p)</pre>
<div class="block">Request a peer to the peer</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>p</code> - The piece to be requested to the peer</dd></dl>
</li>
</ul>
<a name="checkDownloaded()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDownloaded</h4>
<pre>public&nbsp;int&nbsp;checkDownloaded()</pre>
<div class="block">Returns the total amount of bytes downloaded by this task so far</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>int</dd></dl>
</li>
</ul>
<a name="connectionClosed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectionClosed</h4>
<pre>public&nbsp;void&nbsp;connectionClosed()</pre>
<div class="block">Fired when the connection to the remote peer has been closed. This method
 clear this task data and send a message to the DownloadManager, informing
 it that this peer connection has been closed, resulting in the deletion of
 this task</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/OutgoingListener.html#connectionClosed()">connectionClosed</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/OutgoingListener.html" title="interface in jbittorrent">OutgoingListener</a></code></dd>
</dl>
</li>
</ul>
<a name="keepAliveSent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keepAliveSent</h4>
<pre>public&nbsp;void&nbsp;keepAliveSent()</pre>
<div class="block">Fired when a keep-alive message has been sent by the MessageSender.
 If at the time the keep-alive was sent, this peer has not received any
 message from the remote peer since more that 3 minutes, the remote peer is
 considered as dead, and we close the connection, then inform the
 DownloadManager that this connection timed out...

 Otherwise, inform the DownloadManager that this task is still alive and has
 not been used for a long time...</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/OutgoingListener.html#keepAliveSent()">keepAliveSent</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/OutgoingListener.html" title="interface in jbittorrent">OutgoingListener</a></code></dd>
</dl>
</li>
</ul>
<a name="messageReceived(jbittorrent.Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageReceived</h4>
<pre>public&nbsp;void&nbsp;messageReceived(<a href="../jbittorrent/Message.html" title="class in jbittorrent">Message</a>&nbsp;m)</pre>
<div class="block">According to the message type, change the state of the task (peer) and
 take the necessary actions</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../jbittorrent/IncomingListener.html#messageReceived(jbittorrent.Message)">messageReceived</a></code>&nbsp;in interface&nbsp;<code><a href="../jbittorrent/IncomingListener.html" title="interface in jbittorrent">IncomingListener</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>m</code> - Message</dd></dl>
</li>
</ul>
<a name="addDTListener(jbittorrent.DTListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDTListener</h4>
<pre>public&nbsp;void&nbsp;addDTListener(<a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a>&nbsp;listener)</pre>
</li>
</ul>
<a name="removeDTListener(jbittorrent.DTListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeDTListener</h4>
<pre>public&nbsp;void&nbsp;removeDTListener(<a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a>&nbsp;listener)</pre>
</li>
</ul>
<a name="getDTListeners()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDTListeners</h4>
<pre>public&nbsp;<a href="../jbittorrent/DTListener.html" title="interface in jbittorrent">DTListener</a>[]&nbsp;getDTListeners()</pre>
</li>
</ul>
<a name="end()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>end</h4>
<pre>public&nbsp;void&nbsp;end()</pre>
</li>
</ul>
<a name="endTask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endTask</h4>
<pre>public&nbsp;void&nbsp;endTask()</pre>
<div class="block">Stops this thread by setting the 'run' variable to false and closing
 the communication thread (Message receiver and sender). Closes the
 connection to the remote peer</div>
</li>
</ul>
<a name="isDownloading()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDownloading</h4>
<pre>public&nbsp;boolean&nbsp;isDownloading()</pre>
</li>
</ul>
<a name="getIdTask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdTask</h4>
<pre>public&nbsp;java.lang.String&nbsp;getIdTask()</pre>
</li>
</ul>
<a name="setIdTask(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIdTask</h4>
<pre>public&nbsp;void&nbsp;setIdTask(java.lang.String&nbsp;idTask)</pre>
</li>
</ul>
<a name="getPortSocket()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPortSocket</h4>
<pre>public&nbsp;int&nbsp;getPortSocket()</pre>
</li>
</ul>
<a name="setPortSocket(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPortSocket</h4>
<pre>public&nbsp;void&nbsp;setPortSocket(int&nbsp;port)</pre>
</li>
</ul>
<a name="isConected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConected</h4>
<pre>public&nbsp;boolean&nbsp;isConected()</pre>
</li>
</ul>
<a name="setConected(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConected</h4>
<pre>public&nbsp;void&nbsp;setConected(boolean&nbsp;isConected)</pre>
</li>
</ul>
<a name="isDownloadPiece()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDownloadPiece</h4>
<pre>public&nbsp;boolean&nbsp;isDownloadPiece()</pre>
</li>
</ul>
<a name="isRunning()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>public&nbsp;boolean&nbsp;isRunning()</pre>
</li>
</ul>
<a name="isStartedEndGame()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStartedEndGame</h4>
<pre>public&nbsp;boolean&nbsp;isStartedEndGame()</pre>
</li>
</ul>
<a name="getIndexDowloadEndGamePiece()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexDowloadEndGamePiece</h4>
<pre>public&nbsp;int&nbsp;getIndexDowloadEndGamePiece()</pre>
</li>
</ul>
<a name="getIndexDownloadPiece()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexDownloadPiece</h4>
<pre>public&nbsp;int&nbsp;getIndexDownloadPiece()</pre>
</li>
</ul>
<a name="cancelPieceEndGameStrategy(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelPieceEndGameStrategy</h4>
<pre>public&nbsp;void&nbsp;cancelPieceEndGameStrategy(int&nbsp;indexEndGamePiece)</pre>
<div class="block">Sends the messages of cancellation of blocks that have been solicited.  
 These blocks are of the piece that belongs to index that is passed by parameter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>indexEndGamePiece</code> - Index of the selected piece, when End Game mode was activated.</dd></dl>
</li>
</ul>
<a name="setStartedEndGame(jbittorrent.Piece)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStartedEndGame</h4>
<pre>public&nbsp;void&nbsp;setStartedEndGame(<a href="../jbittorrent/Piece.html" title="class in jbittorrent">Piece</a>&nbsp;downloadEndGamePiece)</pre>
<div class="block">Establishes a new piece for the End Game mode.  If it already there was 
 a selected piece for the End Game mode, it will send the messages of 
 cancellation of the solicited blocks that still is waited to receive.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>downloadEndGamePiece</code> - <a href="../jbittorrent/Piece.html" title="class in jbittorrent"><code>Piece</code></a>: selected piece for the 
 End Game mode.  If the value is equal to NULL disables the End Game mode.</dd></dl>
</li>
</ul>
<a name="getDownloadManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDownloadManager</h4>
<pre>public&nbsp;<a href="../jbittorrent/DownloadManager.html" title="class in jbittorrent">DownloadManager</a>&nbsp;getDownloadManager()</pre>
</li>
</ul>
<a name="setDownloadManager(jbittorrent.DownloadManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setDownloadManager</h4>
<pre>public&nbsp;void&nbsp;setDownloadManager(<a href="../jbittorrent/DownloadManager.html" title="class in jbittorrent">DownloadManager</a>&nbsp;downloadManager)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DownloadTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../jbittorrent/DownloadManagerListener.html" title="interface in jbittorrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../jbittorrent/DTListener.html" title="interface in jbittorrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?jbittorrent/DownloadTask.html" target="_top">Frames</a></li>
<li><a href="DownloadTask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
